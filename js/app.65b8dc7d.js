(function(t){function e(e){for(var a,r,c=e[0],s=e[1],u=e[2],l=0,b=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&b.push(i[r][0]),i[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);g&&g(e);while(b.length)b.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},o=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var g=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function i(t,e,n,i,o,r){var c=Object(a["j"])("Pagination");return Object(a["g"])(),Object(a["c"])(c)}n("b0c0");var o={class:"pagination"},r={class:"pagination__posts"},c={class:"pagination__title"},s={class:"pagination__name"},u={key:0,class:"pagination__body"},g={key:1,class:"pagination__body"},l={class:"pagination__footer"},b={class:"pagination__pages"},p={class:"pagination__page"},d={class:"pagination__page"},O=Object(a["d"])("Loading..");function f(t,e,n,i,f,P){return Object(a["g"])(),Object(a["c"])("div",o,[t.isLoading?(Object(a["g"])(),Object(a["c"])(a["a"],{key:1},[O],64)):(Object(a["g"])(),Object(a["c"])(a["a"],{key:0},[Object(a["e"])("ul",r,[(Object(a["g"])(!0),Object(a["c"])(a["a"],null,Object(a["i"])(t.getPaginatedPosts,(function(t,e){return Object(a["g"])(),Object(a["c"])("li",{class:"pagination__post",key:e},[Object(a["e"])("h2",c,"Title: "+Object(a["k"])(t.title),1),Object(a["e"])("p",s,"Author: "+Object(a["k"])(t.name),1),t.isTruncated?(Object(a["g"])(),Object(a["c"])("p",u,Object(a["k"])(P.truncate(t.body)),1)):(Object(a["g"])(),Object(a["c"])("p",g,Object(a["k"])(t.body),1)),Object(a["e"])("button",{class:"pagination__btn-more",onClick:function(e){return t.isTruncated=!t.isTruncated}},Object(a["k"])(t.isTruncated?"Show more":"Show less"),9,["onClick"]),Object(a["e"])("button",{class:"pagination__btn-delete",onClick:function(e){return P.removePost(t)}}," Delete post ",8,["onClick"])])})),128))]),Object(a["e"])("nav",l,[Object(a["e"])("ul",b,[Object(a["e"])("li",p,[Object(a["e"])("button",{class:"pagination__btn",disabled:t.isPreviousButtonDisabled,onClick:e[1]||(e[1]=function(t){return P.setPage(P.paginationObject.currentPage-1)})}," « ",8,["disabled"])]),(Object(a["g"])(!0),Object(a["c"])(a["a"],null,Object(a["i"])(t.getNumberOfPages,(function(t,e){return Object(a["g"])(),Object(a["c"])("li",{key:e,class:"pagination__page"},[Object(a["e"])("button",{class:["pagination__btn",{"pagination__btn-active":P.paginationObject.currentPage===t}],onClick:function(e){return P.setPage(t)}},Object(a["k"])(t),11,["onClick"])])})),128)),Object(a["e"])("li",d,[Object(a["e"])("button",{class:"pagination__btn",disabled:t.isNextButtonDisabled,onClick:e[2]||(e[2]=function(t){return P.setPage(P.paginationObject.currentPage+1)})}," » ",8,["disabled"])])])])],64))])}var P=n("5530"),_=n("5502"),j={data:function(){return{perPage:10}},methods:Object(P["a"])(Object(P["a"])(Object(P["a"])({},Object(_["d"])(["SET_PAGINATION","SET_LOADING_STATUS","UPDATE_PAGINATION","REMOVE_USER_POST","SET_CURRENT_PAGE"])),Object(_["b"])(["loadAllPosts"])),{},{setPage:function(t){this.SET_PAGINATION({currentPage:t,perPage:this.perPage})},truncate:function(t,e){return e||(e=50),t.length<e?t:t.substring(0,e)+"..."},removePost:function(t){this.REMOVE_USER_POST(t)}}),computed:Object(P["a"])(Object(P["a"])({},Object(_["c"])(["isNextButtonDisabled","isPreviousButtonDisabled","getPosts","isLoading","getPaginatedPosts","getNumberOfPages"])),{},{paginationObject:function(){return this.$store.getters.getPagination}}),watch:{getPosts:{deep:!0,handler:function(){this.UPDATE_PAGINATION({currentPage:this.paginationObject.currentPage,perPage:this.perPage})}},getPaginatedPosts:{deep:!0,handler:function(t){!1===this.$store.state.loadingStatus&&(Array.isArray(t)&&t.length||(this.SET_CURRENT_PAGE(this.paginationObject.currentPage-1),this.setPage(this.paginationObject.currentPage)))}}},mounted:function(){this.SET_LOADING_STATUS(!0),this.loadAllPosts()}};n("b2d4");j.render=f;var S=j,h={name:"App",components:{Pagination:S},data:function(){return{}},methods:{},mounted:function(){}};n("dedc");h.render=i;var T=h,E=(n("159b"),n("d81d"),n("a434"),n("d3b7"),n("3ca3"),n("ddb0"),n("bc3a")),m=n.n(E),v=n("2ef0"),y=function(t,e,n){var a=(e-1)*n,i=Math.min(a+n-1,t-1);return{currentPage:e,startIndex:a,endIndex:i,range:Object(v["range"])(1,Math.ceil(t/n)+1)}},A=Object(_["a"])({state:{posts:[],users:[],usersPosts:[],pagination:{},loadingStatus:!1},mutations:{SET_POSTS:function(t,e){t.posts=e},SET_USERS:function(t,e){t.users=e},SET_PAGINATION:function(t,e){var n=e.currentPage,a=e.perPage;t.pagination=y(t.usersPosts.length,n,a)},SET_LOADING_STATUS:function(t,e){t.loadingStatus=e},SET_USERS_POSTS:function(t){var e=[];t.posts.forEach((function(n){t.users.map((function(t){n.userId===t.id&&e.push({body:n.body,title:n.title,name:t.name,isTruncated:!0})}))})),t.usersPosts=e},REMOVE_USER_POST:function(t,e){var n=t.usersPosts.indexOf(e);t.usersPosts.splice(n,1)},UPDATE_PAGINATION:function(t,e){var n=e.currentPage,a=e.perPage;t.pagination=y(t.usersPosts.length,n,a)},SET_CURRENT_PAGE:function(t,e){t.pagination.currentPage=e}},actions:{loadPosts:function(t){var e=t.commit;return m.a.get("https://jsonplaceholder.typicode.com/posts?_start=0&_limit=100").then((function(t){e("SET_POSTS",t.data),e("SET_PAGINATION",{currentPage:1,perPage:10})}))},loadUsers:function(t){var e=t.commit;return m.a.get("https://jsonplaceholder.typicode.com/users").then((function(t){e("SET_USERS",t.data)}))},loadAllPosts:function(t){var e=t.commit,n=t.dispatch,a=n("loadPosts"),i=n("loadUsers");Promise.all([a,i]).then((function(){e("SET_USERS_POSTS"),e("SET_LOADING_STATUS",!1)})).catch((function(t){return console.log("Error in promises ".concat(t))}))}},getters:{getPosts:function(t){return t.usersPosts},getPaginatedPosts:function(t){return Object(v["slice"])(t.usersPosts,t.pagination.startIndex,t.pagination.endIndex+1)},getNumberOfPages:function(t){return t.pagination.range},getPagination:function(t){return t.pagination},isNextButtonDisabled:function(t){if(!Object(v["isEmpty"])(t.pagination))return t.pagination.currentPage===t.pagination.range.length},isPreviousButtonDisabled:function(t){if(!Object(v["isEmpty"])(t.pagination))return 1===t.pagination.currentPage},isLoading:function(t){return t.loadingStatus}},modules:{}});Object(a["b"])(T).use(A).mount("#app")},"58d7":function(t,e,n){},9132:function(t,e,n){},b2d4:function(t,e,n){"use strict";n("58d7")},dedc:function(t,e,n){"use strict";n("9132")}});
//# sourceMappingURL=app.65b8dc7d.js.map